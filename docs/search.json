[
  {
    "objectID": "index.html",
    "href": "index.html",
    "title": "world-athletics-database",
    "section": "",
    "text": "1 About\nSome 400k athlete performances for various events scraped from World Athletics."
  },
  {
    "objectID": "index.html#getting-started",
    "href": "index.html#getting-started",
    "title": "world-athletics-database",
    "section": "1.1 Getting Started",
    "text": "1.1 Getting Started\nFirst, clone the repository and navigate to the project directory. Then, install the necessary dependencies:\nmake init\nNext, you can parse and post-process the data:\npoetry run python world_athletics_database/parse.py\npoetry run python world_athletics_database/postprocess.py\nNote: Parsing the data may take up to 20 minutes."
  },
  {
    "objectID": "index.html#data-dictionary",
    "href": "index.html#data-dictionary",
    "title": "world-athletics-database",
    "section": "1.2 Data Dictionary",
    "text": "1.2 Data Dictionary\nThese are the columns that are directly extracted from the Word Athletics database.\n\nRank: The rank of the record.\nMark: The mark or result of the event.\nCompetitor: The name of the competitor.\nDOB: The date of birth of the competitor.\nNat: The nationality of the competitor.\nPos: The position of the competitor.\nVenue: The venue where the event took place.\nDate: The date when the record was made.\nResults Score: The score of the results.\nMark [meters or seconds]: The mark of the event in metres or seconds.\nEvent: The name of the event.\nWind: The wind speed during the event.\nSex: The competitor’s sex."
  },
  {
    "objectID": "index.html#data-sample",
    "href": "index.html#data-sample",
    "title": "world-athletics-database",
    "section": "1.3 Data Sample",
    "text": "1.3 Data Sample\nHere’s all the world record performances that are stored in the data set, sorted by date.\nFirst all world records for the women.\n\n\nCode\nimport pandas as pd\nfrom IPython.display import Markdown\nfrom tabulate import tabulate\n\ndf = pd.read_csv(\"data/data.csv\", delimiter=\";\", parse_dates=True)\n\nMarkdown(\n    tabulate(\n        df.loc[(df[\"Rank\"] == 1) & (df[\"Sex\"] == \"female\")][\n            [\"Event\", \"Competitor\", \"Mark\", \"Date\"]\n        ].sort_values(\"Date\")\n    )\n)\n\n\n\n\n\n447981\n800 Metres\nJarmila KRATOCHVÍLOVÁ\n1:53.28\n1983-07-26\n\n\n412838\n400 Metres\nMarita KOCH\n47.6\n1985-10-06\n\n\n236788\nShot Put\nNatalya LISOVSKAYA\n22.63\n1987-06-07\n\n\n444842\nHigh Jump\nStefka KOSTADINOVA\n2.09\n1987-08-30\n\n\n461504\nLong Jump\nGalina CHISTYAKOVA\n7.52\n1988-06-11\n\n\n244742\nDiscus Throw\nGabriele REINSCH\n76.8\n1988-07-09\n\n\n281833\n100 Metres\nFlorence GRIFFITH-JOYNER\n10.49\n1988-07-16\n\n\n428212\nHeptathlon\nJackie JOYNER-KERSEE\n7291\n1988-09-24\n\n\n380730\n200 Metres\nFlorence GRIFFITH-JOYNER\n21.34\n1988-09-29\n\n\n324100\n3000 Metres\nJunxia WANG\n8:06.11\n1993-09-13\n\n\n248150\n10000 Metres Race Walk\nHongmiao GAO\n41:37.9h\n1994-04-07\n\n\n459578\n10 Kilometres Race Walk\nYelena NIKOLAYEVA\n41:04\n1996-04-20\n\n\n412322\n1000 Metres\nSvetlana MASTERKOVA\n2:28.98\n1996-08-23\n\n\n429336\n3000 Metres Race Walk\nNorica CÎMPEAN\n11:41.85\n1999-02-06\n\n\n407600\n20000 Metres Race Walk\nOlimpiada IVANOVA\n1:26:52.3h\n2001-09-06\n\n\n246819\n5 Kilometres Race Walk\nKjersti TYSSE-PLÄTZER\n19:46\n2006-08-27\n\n\n327024\nTwo Miles\nMeseret DEFAR\n8:58.58\n2007-09-14\n\n\n429438\nJavelin Throw\nBarbora ŠPOTÁKOVÁ\n72.28\n2008-09-13\n\n\n327620\nPole Vault\nYelena ISINBAYEVA\n5.06\n2009-08-28\n\n\n246516\n5000 Metres Race Walk\nEleonora Anna GIORGI\n20:01.80\n2014-05-18\n\n\n343290\nHammer Throw\nAnita WŁODARCZYK\n82.98\n2016-08-28\n\n\n380635\n20 Kilometres\nJoyciline JEPKOSGEI\n1:01:25\n2017-04-01\n\n\n308816\n600 Metres\nCaster SEMENYA\n1:21.77\n2017-08-27\n\n\n248341\n20 Kilometres Race Walk\nYelena LASHMANOVA\n1:23:39\n2018-06-09\n\n\n308975\n3000 Metres Steeplechase\nBeatrice CHEPKOECH\n8:44.32\n2018-07-20\n\n\n423705\n300 Metres\nShaunae MILLER-UIBO\n34.41\n2019-06-20\n\n\n236187\nOne Mile\nSifan HASSAN\n4:12.33\n2019-07-12\n\n\n243911\n2000 Metres Steeplechase\nGesa Felicitas KRAUSE\n5:52.80\n2019-09-01\n\n\n327116\n10 Miles Road\nEvaline CHIRCHIR\n50:32\n2019-09-22\n\n\n423856\nMarathon\nBrigid KOSGEI\n2:14:04\n2019-10-13\n\n\n265201\n15 Kilometres\nLetesenbet GIDEY\n44:20\n2019-11-17\n\n\n327279\n50 Kilometres Race Walk\nYelena LASHMANOVA\n3:50:42\n2020-09-05\n\n\n376937\n10000 Metres\nLetesenbet GIDEY\n29:01.03\n2021-06-08\n\n\n402797\nTriple Jump\nYulimar ROJAS\n15.67\n2021-08-01\n\n\n407521\n2000 Metres\nFrancine NIYONSABA\n5:21.56\n2021-09-14\n\n\n442887\nHalf Marathon\nLetesenbet GIDEY\n1:02:52\n2021-10-24\n\n\n380048\n5 Kilometres\nEjgayehu TAYE\n14:19\n2021-12-31\n\n\n247510\n10 Kilometres\nYalemzerf YEHUALAW\n29:14\n2022-02-27\n\n\n274855\n400 Metres Hurdles\nSydney MCLAUGHLIN\n50.68\n2022-07-22\n\n\n257616\n100 Metres Hurdles\nTobi AMUSAN\n12.12\n2022-07-24\n\n\n447282\n35 Kilometres Race Walk\nKlavdiya AFANASYEVA\n2:37:11\n2023-05-20\n\n\n265399\n1500 Metres\nFaith KIPYEGON\n3:49.11\n2023-06-02\n\n\n407759\n5000 Metres\nFaith KIPYEGON\n14:05.20\n2023-06-09\n\n\n\n\n\nNext, all world records for the men.\n\n\nCode\ndf = pd.read_csv(\"data/data.csv\", delimiter=\";\", parse_dates=True)\n\nMarkdown(\n    tabulate(\n        df.loc[(df[\"Rank\"] == 1) & (df[\"Sex\"] == \"male\")][\n            [\"Event\", \"Competitor\", \"Mark\", \"Date\"]\n        ].sort_values(\"Date\")\n    )\n)\n\n\n\n\n\n190433\n30 Kilometres Race Walk\nDaniel BAUTISTA\n2:03:06\n1980-04-27\n\n\n101604\n600 Metres\nJohnny GRAY\n1:12.81\n1986-05-24\n\n\n18142\nDiscus Throw\nJürgen SCHULT\n74.08\n1986-06-06\n\n\n133326\nHammer Throw\nYuriy SEDYKH\n86.74\n1986-08-30\n\n\n32514\n5 Kilometres Race Walk\nRobert KORZENIOWSKI\n18:21\n1990-09-15\n\n\n229617\nLong Jump\nMike POWELL\n8.95\n1991-08-30\n\n\n212769\nHigh Jump\nJavier SOTOMAYOR\n2.45\n1993-07-27\n\n\n173330\n20000 Metres Race Walk\nBernardo SEGURA\n1:17:25.6h\n1994-05-07\n\n\n167661\nTriple Jump\nJonathan EDWARDS\n18.29\n1995-08-07\n\n\n200121\nJavelin Throw\nJan ŽELEZNÝ\n98.48\n1996-05-25\n\n\n113094\n3000 Metres\nDaniel KOMEN\n7:20.67\n1996-09-01\n\n\n31851\n5000 Metres Race Walk\nHatem GHOULA\n18:05.49\n1997-05-01\n\n\n38150\n1500 Metres\nHicham EL GUERROUJ\n3:26.00\n1998-07-14\n\n\n0\nOne Mile\nHicham EL GUERROUJ\n3:43.13\n1999-07-07\n\n\n181731\n1000 Metres\nNoah NGENY\n2:11.96\n1999-09-05\n\n\n173107\n2000 Metres\nHicham EL GUERROUJ\n4:44.79\n1999-09-07\n\n\n229257\n10 Kilometres Race Walk\nRoman RASSKAZOV\n37:11\n2000-05-28\n\n\n221749\n35 Kilometres Race Walk\nVladimir KANAYKIN\n2:21:31\n2006-02-19\n\n\n76729\n100 Metres\nUsain BOLT\n9.58\n2009-08-16\n\n\n152656\n200 Metres\nUsain BOLT\n19.19\n2009-08-20\n\n\n152373\n20 Kilometres\nZersenay TADESE\n55:21\n2010-03-21\n\n\n18037\n2000 Metres Steeplechase\nMahiedine MEKHISSI\n5:10.68\n2010-06-30\n\n\n221974\n800 Metres\nDavid RUDISHA\n1:40.91\n2012-08-09\n\n\n62759\n110 Metres Hurdles\nAries MERRITT\n12.8\n2012-09-07\n\n\n115461\n50 Kilometres Race Walk\nYohann DINIZ\n3:32:33\n2014-08-15\n\n\n34188\n20 Kilometres Race Walk\nYusuke SUZUKI\n1:16:36\n2015-03-15\n\n\n182244\n400 Metres\nWayde VAN NIEKERK\n43.03\n2016-08-14\n\n\n190545\n300 Metres\nWayde VAN NIEKERK\n30.81\n2017-06-28\n\n\n199884\n3000 Metres Race Walk\nTom BOSWORTH\n10:43.84\n2018-07-21\n\n\n111304\nDecathlon\nKevin MAYER\n9126\n2018-09-16\n\n\n37961\n15 Kilometres\nJoshua CHEPTEGEI\n41:05\n2018-11-18\n\n\n32563\n10 Kilometres\nRhonex KIPRUTO\n26:24\n2020-01-12\n\n\n173374\n5000 Metres\nJoshua CHEPTEGEI\n12:35.36\n2020-08-14\n\n\n146310\n10000 Metres\nJoshua CHEPTEGEI\n26:11.00\n2020-10-07\n\n\n33692\n10000 Metres Race Walk\nEiki TAKAHASHI\n37:25.21\n2020-11-14\n\n\n47257\n400 Metres Hurdles\nKarsten WARHOLM\n45.94\n2021-08-03\n\n\n207685\nHalf Marathon\nJacob KIPLIMO\n57:31\n2021-11-21\n\n\n151177\n5 Kilometres\nBerihu AREGAWI\n12:49\n2021-12-31\n\n\n116938\nPole Vault\nArmand DUPLANTIS\n6.21\n2022-07-24\n\n\n191388\nMarathon\nEliud KIPCHOGE\n2:01:09\n2022-09-25\n\n\n115318\n10 Miles Road\nBenard KIBET\n44:04\n2022-12-04\n\n\n1753\nShot Put\nRyan CROUSER\n23.56\n2023-05-27\n\n\n115172\nTwo Miles\nJakob INGEBRIGTSEN\n7:54.10\n2023-06-09\n\n\n101639\n3000 Metres Steeplechase\nLamecha GIRMA\n7:52.11\n2023-06-09"
  },
  {
    "objectID": "analytics.html",
    "href": "analytics.html",
    "title": "2  Analytics",
    "section": "",
    "text": "Let’s play around with the data a little bit. We will load the data and look at the top 10 marathon performances of all times.\n\n\nCode\nimport polars as pl\nimport altair as alt\nfrom camminapy.plot import altair_theme\n\n\naltair_theme()\ndf = (\n    pl.read_csv(\"data/data.csv\", separator=\";\")\n    .filter(pl.col(\"Event\") == \"Marathon\")\n    .groupby(\"Sex\")\n    .head(10)\n    .with_columns(Hours=pl.col(\"Mark [meters or seconds]\") / 3600)\n)\n\nchart = (\n    alt.Chart(\n        df.with_columns(\n            pl.col(\"Competitor\").str.split(\" \").list.last().alias(\"Last Name\")\n        )\n    )\n    .mark_line(point=True)\n    .encode(\n        x=\"Rank:N\",\n        y=alt.Y(\"Hours:Q\").scale(zero=False),\n        color=alt.Color(\"Sex:N\")\n        .scale(domain=[\"female\", \"male\"], range=[\"purple\", \"orange\"])\n        .title(None)\n        .legend(None),\n        tooltip=[f\"{c}:N\" for c in df.columns],\n    )\n    .properties(width=650, height=300)\n    # .interactive()\n)\nalt.layer(\n    chart, chart.mark_text(dy=-10, dx=10, angle=320).encode(text=\"Last Name:N\")\n).facet(column=\"Sex:N\").resolve_scale(y=\"independent\")\n\n\n\n\n\n\n\n\nWe can also look at how world records have progressed over time.\n\n\nCode\nwr = (\n    pl.read_csv(\"data/data.csv\", separator=\";\", try_parse_dates=True)\n    .sort(\"Sex\", \"Event\", \"Date\")\n    .with_columns((pl.col(\"Mark [meters or seconds]\") / 3600).alias(\"Hours\"))\n    .with_columns(\n        (pl.col(\"Hours\") == pl.col(\"Hours\").cummin())\n        .over(\"Sex\", \"Event\")\n        .alias(\"Performance has been a WR\")\n    )\n    .filter(pl.col(\"Performance has been a WR\"))\n    .filter(pl.col(\"Event\") == \"Marathon\")\n    .with_columns(pl.col(\"Competitor\").str.split(\" \").list.last().alias(\"Last Name\"))\n    .sort(\"Sex\", \"Hours\")\n)\n\nprint(wr)\n\nchart = (\n    alt.Chart(wr.to_pandas())\n    .mark_line(point=True, interpolate=\"step-after\")\n    .encode(\n        x=\"Date:T\",\n        y=alt.Y(\"Hours:Q\").scale(zero=False),\n        color=alt.Color(\"Sex:N\")\n        .scale(domain=[\"female\", \"male\"], range=[\"purple\", \"orange\"])\n        .title(None)\n        .legend(None),\n        tooltip=[f\"{c}:N\" for c in df.columns],\n    )\n    .properties(width=650, height=300)\n    # .interactive()\n)\nalt.layer(\n    chart, chart.mark_text(dy=-10, dx=10, angle=320).encode(text=\"Last Name:N\")\n).facet(column=\"Sex:N\").resolve_scale(y=\"independent\")\n\n\nshape: (30, 16)\n┌──────┬─────────┬────────────────┬────────────┬───┬────────┬──────────┬───────────────┬───────────┐\n│ Rank ┆ Mark    ┆ Competitor     ┆ DOB        ┆ … ┆ Sex    ┆ Hours    ┆ Performance   ┆ Last Name │\n│ ---  ┆ ---     ┆ ---            ┆ ---        ┆   ┆ ---    ┆ ---      ┆ has been a WR ┆ ---       │\n│ i64  ┆ str     ┆ str            ┆ date       ┆   ┆ str    ┆ f64      ┆ ---           ┆ str       │\n│      ┆         ┆                ┆            ┆   ┆        ┆          ┆ bool          ┆           │\n╞══════╪═════════╪════════════════╪════════════╪═══╪════════╪══════════╪═══════════════╪═══════════╡\n│ 1    ┆ 2:14:04 ┆ Brigid KOSGEI  ┆ 1994-02-20 ┆ … ┆ female ┆ 2.234444 ┆ true          ┆ KOSGEI    │\n│ 4    ┆ 2:15:25 ┆ Paula          ┆ 1973-12-17 ┆ … ┆ female ┆ 2.256944 ┆ true          ┆ RADCLIFFE │\n│      ┆         ┆ RADCLIFFE      ┆            ┆   ┆        ┆          ┆               ┆           │\n│ 13   ┆ 2:17:18 ┆ Paula          ┆ 1973-12-17 ┆ … ┆ female ┆ 2.288333 ┆ true          ┆ RADCLIFFE │\n│      ┆         ┆ RADCLIFFE      ┆            ┆   ┆        ┆          ┆               ┆           │\n│ 62   ┆ 2:18:47 ┆ Catherine      ┆ 1972-07-21 ┆ … ┆ female ┆ 2.313056 ┆ true          ┆ NDEREBA   │\n│      ┆         ┆ NDEREBA        ┆            ┆   ┆        ┆          ┆               ┆           │\n│ …    ┆ …       ┆ …              ┆ …          ┆ … ┆ …      ┆ …        ┆ …             ┆ …         │\n│ 1778 ┆ 2:08:18 ┆ Robert DE      ┆ 1957-02-27 ┆ … ┆ male   ┆ 2.138333 ┆ true          ┆ CASTELLA  │\n│      ┆         ┆ CASTELLA       ┆            ┆   ┆        ┆          ┆               ┆           │\n│ 2045 ┆ 2:08:34 ┆ Derek CLAYTON  ┆ 1942-11-17 ┆ … ┆ male   ┆ 2.142778 ┆ true          ┆ CLAYTON   │\n│ 3386 ┆ 2:09:37 ┆ Derek CLAYTON  ┆ 1942-11-17 ┆ … ┆ male   ┆ 2.160278 ┆ true          ┆ CLAYTON   │\n│ 8405 ┆ 2:11:59 ┆ Nikolay PENZIN ┆ null       ┆ … ┆ male   ┆ 2.199722 ┆ true          ┆ PENZIN    │\n└──────┴─────────┴────────────────┴────────────┴───┴────────┴──────────┴───────────────┴───────────┘"
  }
]